# [Flexible JSON Array Sorting Processor](https://claude.ai/chat/811a8eb8-acd3-4b87-98b8-5bd35a3d4b6a)

8c6a1aa7-48a3-495b-af0d-1c771f04aa89

 Those artifacts were actually included in my previous response, but let me present them again individually for clarity:

<antArtifact identifier="test-sort-input" type="application/vnd.ant.code" language="json" title="Test Sort Input File">
{
    "files": [
        {
            "name": "document.txt",
            "metadata": {
                "lastModified": "2024-03-15T10:30:00Z",
                "size": 1500
            }
        },
        {
            "name": "image.jpg",
            "metadata": {
                "lastModified": "2024-03-16T15:45:00Z",
                "size": 2500
            }
        },
        {
            "name": "archive.zip",
            "metadata": {
                "lastModified": "2024-03-14T08:15:00Z",
                "size": 5000
            }
        }
    ]
}
</antArtifact>

<antArtifact identifier="test-sort-config" type="application/vnd.ant.code" language="turtle" title="Test Sort Config">
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix trm: <http://purl.org/stuff/transmission/> .
@prefix t: <http://hyperdata.it/transmissions/> .

t:reader a trm:ServiceConfig ;
    trm:configKey t:reader ;
    trm:sourceFile "input/input-01.json" ;
    trm:mediaType "application/json" .

t:sortConfig a trm:ServiceConfig ;
    trm:configKey t:sort ;
    trm:target "files" ;
    trm:rule """{"key": "metadata.lastModified", "direction": "desc"}""" .

t:writer a trm:ServiceConfig ;
    trm:configKey t:writer ;
    trm:destinationFile "output/output-01.json" .
</antArtifact>

<antArtifact identifier="test-sort-transmission" type="application/vnd.ant.code" language="turtle" title="Test Sort Transmission">
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix trm: <http://purl.org/stuff/transmission/> .
@prefix : <http://hyperdata.it/transmissions/> .

:test_sort a trm:Transmission ;
    trm:pipe (:read :sort :write) .

:read a :FileReader ;
    trm:configKey :reader .

:sort a :Sort ;
    trm:configKey :sortConfig .

:write a :FileWriter ;
    trm:configKey :writer .
</antArtifact>

<antArtifact identifier="test-sort-simple" type="application/vnd.ant.code" language="javascript" title="Simple Direct Implementation">
import FileReader from '../../processors/fs/FileReader.js'
import Sort from '../../processors/json/Sort.js'
import FileWriter from '../../processors/fs/FileWriter.js'

const config = {
    "simples": "true",
    "sourceFile": "input/input-01.json",
    "destinationFile": "output/output-01.json",
    "mediaType": "application/json",
    "target": "files",
    "rule": {
        "key": "metadata.lastModified",
        "direction": "desc"
    }
}

async function runSimple() {
    var message = { "dataDir": "src/applications/test_sort/data" }

    const read = new FileReader(config)
    message = await read.process(message)

    const sort = new Sort(config)
    message = await sort.process(message)

    const write = new FileWriter(config)
    await write.process(message)
}

runSimple().catch(console.error)
</antArtifact>

Directory structure should be:

```
src/applications/test_sort/
├── config.ttl
├── transmissions.ttl
├── simple.js
└── data/
    ├── input/
    │   └── input-01.json
    └── output/
        └── required-01.json
```

The application will sort files by their lastModified date in descending order when run either through the framework:
```bash
./trans test_sort
```

Or directly:
```bash
node src/applications/test_sort/simple.js
```

q1: Would you like to see a sample that uses custom comparators?
q2: Should I add more example input files with different sorting scenarios?
q3: Would you like to see error handling examples?
q4: Should I add examples of sorting by multiple criteria?

---

* **sourceFile** : /home/danny/github-danny/hyperdata/docs/chat-archives/data-2025-01-25-12-45-58/conversations.json
* **appName** : claude-json-converter
* **appPath** : claude-json-converter
* **subtask** : [undefined]
* **rootDir** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter
* **dataDir** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter/data
* **targetPath** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter/data
* **tags** : ccc10.ccc20.ccc30.ccc40.ccc50
* **done** : [undefined]
* **meta** : {
  "conv_uuid": "811a8eb8-acd3-4b87-98b8-5bd35a3d4b6a",
  "conv_name": "Flexible JSON Array Sorting Processor",
  "updated_at": "2024-12-02T00:06:26.447782Z"
}
* **filepath** : /home/danny/github-danny/hyperdata/docs/postcraft/content-raw/chat-archives/md/811a/2024-12-02_8c6.md