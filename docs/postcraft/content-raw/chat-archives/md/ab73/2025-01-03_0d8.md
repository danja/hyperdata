# [Displaying Help Text When No Application Specified](https://claude.ai/chat/ab73fc31-f222-48d9-9d13-595d5a3d59f1)

0d88f339-b10c-477f-8b92-28aad04540fa

In the code below, I would like the part that handles `   if (!argv.application) {` to also show the help text (as if --help was used)


// run.js

import yargs from 'yargs'
import { hideBin } from 'yargs/helpers'
import CommandUtils from '../common/CommandUtils.js'
import WebRunner from '../http/WebRunner.js'

const defaultApplicationsDir = 'src/applications'
const commandUtils = new CommandUtils(defaultApplicationsDir)

async function main() {
    await yargs(hideBin(process.argv))
        .usage('Usage: ./trans <application>[.subtask] [options] [target]')
        .option('message', {
            alias: 'm',
            describe: 'Input message as JSON',
            type: 'string',
            coerce: JSON.parse
        })
        /*
        .option('payload', {
            alias: 'P',
            describe: 'message.payload as a JSON string or a path to a JSON file',
            type: 'string',
        })
            */
        .option('web', {
            alias: 'w',
            describe: 'Start web interface',
            type: 'boolean',
        })
        .option('port', {
            alias: 'p',
            describe: 'Port for web interface',
            type: 'number',
            default: 3000
        })
        .command('$0 [application] [target]', 'runs the specified application', (yargs) => {
            return yargs
                .positional('application', {
                    describe: 'the application to run'
                })
                .positional('target', {
                    describe: 'the target of the application'
                })
        }, async (argv) => {
            if (argv.web) {
                const webRunner = new WebRunner(applicationsDir, argv.port)
                webRunner.start()
                return
            }

            if (!argv.application) {
                console.log('Available applications:')
                const apps = await commandUtils.listApplications()
                console.log(apps.join('\n'))
                return
            }
            //   if (argv.message) {
            //     message = await CommandUtils.parseOrLoadContext(argv.payload)
            //}

            //let message = {}
            /*
            if (argv.payload) {
                message = await CommandUtils.parseOrLoadContext(argv.payload)
            }
*/
            await commandUtils.begin(argv.application, argv.target, argv.message)
        })
        .help('h')
        .alias('h', 'help')
        .argv
}

main().catch(console.error)

---

* **sourceFile** : /home/danny/github-danny/hyperdata/docs/chat-archives/data-2025-01-25-12-45-58/conversations.json
* **appName** : claude-json-converter
* **appPath** : claude-json-converter
* **subtask** : [undefined]
* **rootDir** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter
* **dataDir** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter/data
* **targetPath** : /home/danny/github-danny/transmissions/src/applications/claude-json-converter/data
* **tags** : ccc10.ccc20.ccc30.ccc40.ccc50
* **done** : [undefined]
* **meta** : {
  "conv_uuid": "ab73fc31-f222-48d9-9d13-595d5a3d59f1",
  "conv_name": "Displaying Help Text When No Application Specified",
  "updated_at": "2025-01-03T16:38:51.604210Z"
}
* **filepath** : /home/danny/github-danny/hyperdata/docs/postcraft/content-raw/chat-archives/md/ab73/2025-01-03_0d8.md